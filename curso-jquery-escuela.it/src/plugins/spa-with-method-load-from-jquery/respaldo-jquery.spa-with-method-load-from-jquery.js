let spaWithMethodLoadFromJQueryPlugins=t=>{var g;(g=jQuery).fn.spaWithMethodLoadFromJQuery=function(t){let n=g.extend({routes:[],base:"",layoutHeader:"#layoutHeader",layoutGoHome:"#layoutGoHome",layoutNavbar:"#layoutNavbar",layoutMain:"#layoutMain",layoutFooter:"#layoutFooter",urlHeader:"",urlNavBar:"",urlFooter:"",urlHome:"",titlePage:"Página sin Título",homePath:"/",faviconPage:"",titleHeader:"Página sin Título",draggable:!1},t),e=g(n.layoutHeader),a=g(n.layoutNavbar),r=g(n.layoutMain),l=g(n.layoutFooter);let o=()=>{a.draggable({containment:"parent",scroll:!1})},i=t=>{if(!document.startViewTransition)return s(t);u(t)},u=e=>{document.startViewTransition(()=>new Promise(t=>{c(e),t()}))},s=t=>c(t),c=o=>{e.load(n.urlHeader,function(){g("#titlePage").html(o.headerTitle)}),r.load(o.url,function(t,e,a){if("error"===e)return console.error(`Error al cargar ${o.url}: `+a.statusText),r.html("<p>Error 404: No se pudo cargar el contenido.</p>"),resolve();document.title=o.title;e=""+n.base+o.path;window.location.pathname!==e&&history.pushState({path:e},"",e),d(o.favicon),o.styles&&p(o.styles),o.scripts&&o.scripts.forEach(t=>h(t))}),l.load(n.urlFooter)},d=t=>{let e=g('link[rel~="icon"]');(e=0===e.length?g('<link rel="icon" type="image/x-icon">').appendTo("head"):e).attr("href",t+"?t="+(new Date).getTime())},p=t=>{let e=g(`link[href*="${t}"]`);(e=0===e.length?g('<link rel="stylesheet">').appendTo("head"):e).attr("href",t+"?t="+(new Date).getTime())},h=o=>{g.ajax({url:o,type:"HEAD",success:function(){g.getScript(o).done(()=>console.log("Cargado: "+o)).fail((t,e,a)=>console.error(`Error en ${o}:`,a))},error:function(){console.warn("No existe el script: "+o)}})},m=()=>{g(".layout__navbar").hide(),g(document).on("mouseenter",".layout__navbar",function(){g(this).stop(!0,!0)}),g(document).on("click",".navbar__btn",function(t){t.stopPropagation(),g(".layout__navbar").stop(!0,!0).slideToggle()}),g(document).on("click",".layout__navbar",function(t){t.stopPropagation()}),g(document).on("click",function(){g(".layout__navbar").stop(!0,!0).slideUp()})};g(document).on("click","a[data-id]",function(t){t.preventDefault();let e=g(this).data("id");t=n.routes.find(t=>t.id===e);g(".layout__navbar").slideUp(),t&&i(t)}),window.addEventListener("popstate",function(t){let e=(t.state?.path?t.state.path:window.location.pathname).replace(n.base,"");t=n.routes.find(t=>t.path===e);t?(i(t),"/"===t.path&&a.load(n.urlNavBar)):loadInitialContent()}),console.log("\n"),console.warn("----------------------------------------------------------------------------------------------------"),console.warn("----------  pluging - jquery.spa-with-method-load-from-jquery.js - cargado correctamente  ----------"),console.warn("----------------------------------------------------------------------------------------------------"),console.log("\n"),(()=>{a.load(n.urlNavBar,()=>m()),n.draggable&&o();let e=window.location.pathname.replace(n.base,"");var t=n.routes.find(t=>t.path===e);t?i(t):i({url:n.urlHome,title:n.titlePage,path:n.homePath,favicon:n.faviconPage,headerTitle:n.titleHeader,styles:n.urlHome,scripts:[n.urlHome]}),history.replaceState({path:window.location.pathname},"",window.location.pathname)})()}};export{spaWithMethodLoadFromJQueryPlugins};