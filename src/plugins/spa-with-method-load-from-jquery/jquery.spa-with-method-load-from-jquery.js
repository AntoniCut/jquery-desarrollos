let spaWithMethodLoadFromJQueryPlugins=e=>{var g;(g=jQuery).fn.spaWithMethodLoadFromJQuery=function(e){let r=g.extend({routes:[],base:"",layoutHeader:"#layoutHeader",layoutGoHome:"#layoutGoHome",layoutNavbar:"#layoutNavbar",layoutMain:"#layoutMain",layoutFooter:"#layoutFooter",urlHeader:"",urlNavBar:"",urlFooter:"",urlHome:"",titlePage:"Página sin Título",homePath:"/",faviconPage:"",titleHeader:"Página sin Título",draggable:!1},e),t=g(r.layoutHeader),a=g(r.layoutNavbar),n=g(r.layoutMain),l=g(r.layoutFooter);let o=()=>{a.draggable({containment:"parent",scroll:!1})},i=e=>{if(!document.startViewTransition)return s(e);u(e)},u=t=>{document.startViewTransition(()=>new Promise(e=>{c(t),e()}))},s=e=>c(e),c=o=>{t.load(r.urlHeader,function(){g("#titlePageHeader").html(o.headerTitle)}),n.load(o.url,function(e,t,a){if("error"===t)return console.error(`Error al cargar ${o.url}: `+a.statusText),n.html("<p>Error 404: No se pudo cargar el contenido.</p>"),resolve();document.title=o.title;t=""+r.base+o.path;window.location.pathname!==t&&history.pushState({path:t},"",t),d(o.favicon),o.styles&&p(o.styles),o.scripts&&o.scripts.forEach(e=>h(e))}),l.load(r.urlFooter,function(){g("#titlePageFooter").html(o.headerTitle)})},d=e=>{let t=g('link[rel~="icon"]');(t=0===t.length?g('<link rel="icon" type="image/x-icon">').appendTo("head"):t).attr("href",e+"?t="+(new Date).getTime())},p=e=>{let t=g(`link[href*="${e}"]`);(t=0===t.length?g('<link rel="stylesheet">').appendTo("head"):t).attr("href",e+"?t="+(new Date).getTime())},h=o=>{g.ajax({url:o,type:"HEAD",success:function(){g.getScript(o).done(()=>console.log("Cargado: "+o)).fail((e,t,a)=>console.error(`Error en ${o}:`,a))},error:function(){console.warn("No existe el script: "+o)}})},m=()=>{g(".layout__navbar").hide(),g(document).on("mouseenter",".layout__navbar",function(){g(this).stop(!0,!0)}),g(document).on("click",".navbar__btn",function(e){e.stopPropagation(),g(".layout__navbar").stop(!0,!0).slideToggle()}),g(document).on("click",".layout__navbar",function(e){e.stopPropagation()}),g(document).on("click",function(){g(".layout__navbar").stop(!0,!0).slideUp()})};g(document).on("click","a[data-id]",function(e){e.preventDefault();let t=g(this).data("id");e=r.routes.find(e=>e.id===t);g(".layout__navbar").slideUp(),e&&i(e)}),window.addEventListener("popstate",function(e){let t=(e.state?.path?e.state.path:window.location.pathname).replace(r.base,"");e=r.routes.find(e=>e.path===t);e?(i(e),"/"===e.path&&a.load(r.urlNavBar)):loadInitialContent()}),console.log("\n"),console.warn("----------------------------------------------------------------------------------------------------"),console.warn("----------  pluging - jquery.spa-with-method-load-from-jquery.js - cargado correctamente  ----------"),console.warn("----------------------------------------------------------------------------------------------------"),console.log("\n"),(()=>{a.load(r.urlNavBar,()=>m()),r.draggable&&o();let t=window.location.pathname.replace(r.base,"");var e=r.routes.find(e=>e.path===t);e?i(e):i({url:r.urlHome,title:r.titlePage,path:r.homePath,favicon:r.faviconPage,headerTitle:r.titleHeader,styles:r.urlHome,scripts:[r.urlHome]}),history.replaceState({path:window.location.pathname},"",window.location.pathname)})()}};export{spaWithMethodLoadFromJQueryPlugins};